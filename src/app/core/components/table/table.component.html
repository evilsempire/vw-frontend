<div class="mock-table">
  <!-- <div class="total-results-section">{{length}} Total results</div> -->
  <div class="mat-elevation-z8">
    <table
      mat-table
      [dataSource]="tableDataSource"
      matSort
      (matSortChange)="announceSortChange($any($event))"
    >
      <ng-container *ngIf="isSelectRowAction" matColumnDef="select">
        <th mat-header-cell *matHeaderCellDef>
          <mat-checkbox
            (change)="$event ? toggleAllRows() : null"
            [checked]="selection.hasValue() && isAllSelected()"
            [indeterminate]="selection.hasValue() && !isAllSelected()"
            [aria-label]="checkboxLabel()"
          >
          </mat-checkbox>
        </th>
        <td mat-cell *matCellDef="let row">
          <mat-checkbox
            (click)="$event.stopPropagation()"
            (change)="$event ? selection.toggle(row) : null"
            [checked]="selection.isSelected(row)"
            [aria-label]="checkboxLabel(row)"
          >
          </mat-checkbox>
        </td>
      </ng-container>
      <ng-container
        *ngFor="let tableColumn of tableColumns"
        [matColumnDef]="tableColumn.name"
      >
        <!-- if sortable column header -->
        <ng-container *ngIf="tableColumn.isSortable; else notSortable">
          <th
            mat-header-cell
            *matHeaderCellDef
            [mat-sort-header]="tableColumn.name"
            [arrowPosition]="
              tableColumn.position === 'right' ? 'before' : 'after'
            "
            [ngClass]="tableColumn.columnWidth ? 'w-'+ tableColumn.columnWidth : 'w-25' "
          >
            {{ tableColumn.name }}
          </th>
        </ng-container>
        <!-- else not sortable -->
        <ng-template #notSortable>
          <th
            mat-header-cell
            *matHeaderCellDef
            [class.text-right]="tableColumn.position === 'right'"
            [ngClass]="tableColumn.columnWidth ? 'w-'+ tableColumn.columnWidth : 'w-25'"
          >
            {{ tableColumn.name }}
          </th>
        </ng-template>

        <!-- column data -->
        <td
          mat-cell
          *matCellDef="let element"
          [class.text-right]="tableColumn.position === 'right'"
          class="truncate-cell"
          matTooltip="{{element | dataPropertyGetter : tableColumn.dataKey }}"
        >
          {{ element | dataPropertyGetter : tableColumn.dataKey }}

        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        (click)="selection.toggle(row)"
      ></tr>
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="9999">No Data to show!</td>
      </tr>
    </table>
    <mat-progress-bar mode="indeterminate" color="accent" *ngIf="tableRecordsLoading"></mat-progress-bar>
  </div>

  <div *ngIf="isPageable" class="view-more-section" (click)="viewMore()" style="cursor: pointer;">View more</div>

</div>
